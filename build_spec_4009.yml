version: 0.1
component: build
timeoutInSeconds: 40000
runAs: root
shell: /bin/sh
env:
  variables:
    "VAR_TEMP" : "initialValue"

steps:
  - type: Command
    name: "define env"
    timeoutInSeconds: 40000
    command: |
      touch dummy2.txt
      kubectl -v
      echo "introducing sleep"
      sleep 11m
      echo "sleep finished"
      export VAR_TEMP="value"
  - type: Command
    name: "check env"
    timeoutInSeconds: 40000
    command: |
      echo "VAR TEMP value:"$VAR_TEMP
      echo "build finished.."
outputArtifacts:
  - name: dummyArtifact
    type: BINARY
    location: dummy2.txt
